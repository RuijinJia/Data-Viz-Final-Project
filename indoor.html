<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>visualization</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>

<body>
    <div id='container'>
        <div id='header'>
            <div id="headertext">
                <h1>Global Air Quality, Causes and Health Impact</h1>
                <h2>An Analysis of Air Quality on Health Impact</h2>
            </div>
            <div id='navigation'>
                <ul id='navi'>
                    <li><a href="main.html">Overview</a></li>
                    <li><a href="outdoor.html">Ambient pollution</a></li>
                    <li class='selected'><a href="indoor.html"><b>Indoor Pollution</b></a></li>
                    <li><a href="energy.html">Sources</a></li>
                    <li><a href="trend.html">Solutions</a></li>
                </ul>
            </div>
        </div> 
        <div id='content'>   
            <div class='author'>
                <h3>Author</h3>
                <h4>Ruijin Jia</h4>
                <h5><a href="mailto:rjia58@gwu.edu">rjia58@gwu.edu</a></h5>
                <h5>Instructor: Nima Zahadat</h5>
                <h3>Data Source</h3>
                <ul>
                    <li><a class="selected" href="https://data.worldbank.org/">World Bank Open Data</a></li>
                    <li><a class="selected" href="https://www.who.int/">WHO</a></li>
                    <li><a class="selected" href="https://www.data.gov/">Data Gov</a></li>
                    <li><a class="selected" href="https://dataverse.harvard.edu/dataverse/cga_aqi">Harvard Dataverse</a></li>
                </ul>
            </div>
            <div id='chart'>
                <h1>
                <p>Indoor air pollution is caused by burning solid fuel sources, the burning of fuels like firewood, crop waste, particularly in poor households, results in air pollution that leads to respiratory diseases which can result in premature death.</p>
                </h1>
                <h1>Death Rate from Indoor Pollution/Outdoor Pollution
                    <p></p>
                <h2>Death Rate from Outdoor Pollution</h2>
                <div class='tableauPlaceholder' id='viz1588319501435' style='position: relative'>
                    <noscript>
                        <a href='#'>
                            <img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;S2&#47;S2SD2B7J6&#47;1_rss.png' style='border: none' />
                        </a>
                    </noscript>
                    <object class='tableauViz'  style='display:none;'>
                        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> 
                        <param name='path' value='shared&#47;S2SD2B7J6' /> <param name='toolbar' value='yes' />
                        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;S2&#47;S2SD2B7J6&#47;1.png' /> 
                        <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' />
                        <param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' />
                        <param name='display_count' value='yes' /><param name='filter' value='publish=yes' />
                    </object>
                </div>
                <p>Death rates are given as the number of attributed deaths from pollution per 100,000 population.</p>                                                                          
                
                    
                    <h2>Death Rate from Indoor Pollution</h2>
                    <div class='tableauPlaceholder' id='viz1588317996370' style='position: relative'>
                        <noscript>
                            <a href='#'>
                                <img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;De&#47;DeathRatefromIndoorPollution&#47;DeathRatefromIndoorPollution&#47;1_rss.png' style='border: none' />
                            </a>
                        </noscript>
                        <object class='tableauViz'  style='display:none;'>
                            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> 
                            <param name='site_root' value='' /><param name='name' value='DeathRatefromIndoorPollution&#47;DeathRatefromIndoorPollution' />
                            <param name='tabs' value='no' /><param name='toolbar' value='yes' />
                            <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;De&#47;DeathRatefromIndoorPollution&#47;DeathRatefromIndoorPollution&#47;1.png' /> 
                            <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' />
                            <param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' />
                            <param name='display_count' value='yes' /><param name='filter' value='publish=yes' />
                        </object>
                    </div>                            
                
                <p>Death rates are given as the number of attributed deaths from pollution per 100,000 population.</p>
            <h2>Deaths from Indoor Air Pollution by Age</h2>
				<div id="age_div" style="width: 800px; height: 600px;"></div>
            <h2>Access to clean fuels and technologies for cooking (% of population)</h2>
            <div class='tableauPlaceholder' id='viz1588379112004' style='position: relative'>
                <noscript>
                    <a href='#'>
                        <img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;GS&#47;GS892QH68&#47;1_rss.png' style='border: none' />
                    </a>
                </noscript>
                <object class='tableauViz'  style='display:none;'>
                    <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> 
                    <param name='path' value='shared&#47;GS892QH68' /> <param name='toolbar' value='yes' />
                    <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;GS&#47;GS892QH68&#47;1.png' /> 
                    <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' />
                    <param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' />
                    <param name='display_count' value='yes' /><param name='filter' value='publish=yes' />
                </object>
            </div> 
            <p></p>
            <h2>Percentage of Population using Solid Fuels as the Main Cooking Fuel by Region</h2>
            <div id="solid_div" style="width: 750px; height: 400px;"></div>               
            </h1>
                
            </div>
        <div class="footer">
            Copyright &copy 2020
        </div>
        </div>
    </div>

    <script type='text/javascript'>                    var divElement = document.getElementById('viz1588317996370');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>  
    <script type='text/javascript'>                    var divElement = document.getElementById('viz1588319501435');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
    <script type='text/javascript'>                    var divElement = document.getElementById('viz1588379112004');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>

<script type="text/javascript">

    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawAllSheets);
    
    function drawAllSheets() {
        drawSheetName('age', 'SELECT A,B,C,D,E', ageResponseHandler);
        drawSheetName('solid', 'SELECT A,B,C,D,E,F,G', solidResponseHandler);
        
    }
    function drawSheetName(sheetName, query, responseHandler) {
        var queryString = encodeURIComponent(query);
        var query = new google.visualization.Query(
        'https://docs.google.com/spreadsheets/d/18fpYImxD39zLaAcKrc788-AQndnNij17-nr0X7ditUw//gviz/tq?sheet=' + sheetName + '&headers=1&tq=' +queryString  
        );   
        query.send(responseHandler);
    }

    function ageResponseHandler(response) {
        var data = response.getDataTable();

        var options = {
            width: 800,
            height: 600,
            legend: {position: 'top', maxLines: 1},
            bar: {groupWidth: '75%'},
            isStacked: true
        };

        var chart = new google.visualization.BarChart(
            document.getElementById("age_div"));
        chart.draw(data, options);
    } 

    function solidResponseHandler(response) {

    var data = response.getDataTable();
    var options = {

    	
    chartArea:{left:200,width:'100%',right:200},
    legend: { position: 'right' }};

    var chart = new google.visualization.LineChart(document.getElementById('solid_div'));
    chart.draw(data, options);
    }    

</script>

</body>
</html>
